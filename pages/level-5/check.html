<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SQL – CHECK Constraint</title>
  <link rel="stylesheet" href="../../css/topic.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="fade-in">
    <h1>CHECK – Validate Data Rules</h1>
    <p class="subtitle">
      The <code>CHECK</code> constraint ensures that column values meet specific conditions.
    </p>
  </header>

  <!-- THEORY -->
  <section class="card fade-in">
    <h2>What is the CHECK Constraint?</h2>
    <p>
      <code>CHECK</code> allows you to define custom rules for data. The database rejects values that do not satisfy the rule.
    </p>
    <ul class="use-cases">
      <li>Ensure numerical ranges (e.g., age > 18)</li>
      <li>Restrict values to allowed options (e.g., gender = 'M' or 'F')</li>
      <li>Prevent negative quantities or prices</li>
    </ul>
  </section>

  <!-- BASIC SYNTAX -->
  <section class="card fade-in">
    <h2>CHECK Constraint Syntax</h2>

    <div class="code-wrap">
<pre id="sql0" class="code-sql">
<span class="kw">CREATE TABLE</span> <span class="tb">Employees</span> (
  <span class="id">EmployeeID</span> <span class="kw">INT</span> <span class="kw">PRIMARY KEY</span>,
  <span class="id">Age</span> <span class="kw">INT</span> <span class="kw">CHECK</span>(<span class="id">Age</span> &gt;= 18)
);
</pre>
      <button class="copy-btn" data-target="sql0">Copy</button>
    </div>
  </section>

  <!-- NORTHWIND EXAMPLE 1 -->
  <section class="card fade-in">
    <h2>Example – Order Quantity Must Be Positive</h2>

    <div class="code-wrap mini">
<pre id="sql1" class="code-sql">
<span class="kw">ALTER TABLE</span> <span class="tb">[Order Details]</span>
<span class="kw">ADD CONSTRAINT</span> <span class="id">CHK_Quantity_Positive</span>
<span class="kw">CHECK</span> (<span class="id">Quantity</span> &gt; 0);
</pre>
      <button class="copy-btn" data-target="sql1">Copy</button>
    </div>

    <table class="sql-table">
      <thead><tr><th>OrderID</th><th>ProductID</th><th>Quantity</th></tr></thead>
      <tbody>
        <tr><td>10248</td><td>11</td><td>12</td></tr>
        <tr><td>10249</td><td>42</td><td>10</td></tr>
      </tbody>
    </table>
  </section>

  <!-- NORTHWIND EXAMPLE 2 -->
  <section class="card fade-in">
    <h2>Example – Unit Price Between Range</h2>

    <div class="code-wrap mini">
<pre id="sql2" class="code-sql">
<span class="kw">ALTER TABLE</span> <span class="tb">Products</span>
<span class="kw">ADD CONSTRAINT</span> <span class="id">CHK_UnitPrice_Limit</span>
<span class="kw">CHECK</span> (<span class="id">UnitPrice</span> BETWEEN 1 AND 1000);
</pre>
      <button class="copy-btn" data-target="sql2">Copy</button>
    </div>

    <table class="sql-table">
      <thead><tr><th>ProductID</th><th>ProductName</th><th>UnitPrice</th></tr></thead>
      <tbody>
        <tr><td>1</td><td>Chai</td><td>18.00</td></tr>
        <tr><td>2</td><td>Chang</td><td>19.00</td></tr>
      </tbody>
    </table>
  </section>

  <!-- FOOTER -->
  <footer>Want more? Pick another topic from the sidebar.</footer>

  <!-- COPY SCRIPT -->
  <script>
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.dataset.target;
        const code = document.getElementById(id).innerText.trim();
        navigator.clipboard.writeText(code).then(() => {
          btn.innerText = '✓ Copied';
          setTimeout(() => (btn.innerText = 'Copy'), 1200);
        });
      });
    });
  </script>

</body>
</html>
