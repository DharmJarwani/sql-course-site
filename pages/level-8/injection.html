<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SQL – SQL Injection</title>
  <link rel="stylesheet" href="../../css/topic.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="fade-in">
    <h1>SQL Injection – Stop Hackers from Breaking Your App</h1>
    <p class="subtitle">A common web attack where malicious SQL is “injected” into input fields.</p>
  </header>

  <!-- INTRO -->
  <section class="card fade-in">
    <h2>What is SQL Injection?</h2>
    <p>
      SQL Injection is a technique where an attacker can insert or "inject" malicious SQL code into a query. If not handled properly, this allows the attacker to:
    </p>
    <ul class="use-cases">
      <li>Access unauthorized data</li>
      <li>Bypass login screens</li>
      <li>Delete or modify database contents</li>
    </ul>
  </section>

  <!-- EXAMPLE -->
  <section class="card fade-in">
    <h2>Injection-Prone Code Example</h2>
    <div class="code-wrap">
<pre id="sql1" class="code-sql">
<span class="cm">// user input</span>
username = 'admin'; 
password = 'anything' <span class="cm">-- injected comment</span>

<span class="cm">// server-side SQL</span>
<span class="kw">SELECT</span> * <span class="kw">FROM</span> Users 
<span class="kw">WHERE</span> Username = '<span class="id">admin</span>' 
<span class="kw">AND</span> Password = '<span class="id">anything</span>' <span class="cm">--'</span>
</pre>
      <button class="copy-btn" data-target="sql1">Copy</button>
    </div>
    <p><strong>Result:</strong> Bypasses password check due to the comment <code>--</code>.</p>
  </section>

  <!-- FIX -->
  <section class="card fade-in">
    <h2>How to Prevent It</h2>
    <ul class="use-cases">
      <li>Always use <strong>parameterized queries</strong> or prepared statements</li>
      <li><strong>Never</strong> concatenate raw user input directly into SQL strings</li>
      <li>Use <strong>ORMs</strong> (Object Relational Mappers) like Entity Framework, Sequelize, etc.</li>
      <li>Validate and sanitize user inputs on both client and server</li>
    </ul>
  </section>

  <!-- GOOD PRACTICE -->
  <section class="card fade-in">
    <h2>Safe Code with Parameters (C# Example)</h2>
    <div class="code-wrap">
<pre id="sql2" class="code-sql">
<span class="cm">// C# with SQL parameters</span>
cmd.CommandText = "SELECT * FROM Users WHERE Username = @u AND Password = @p";
cmd.Parameters.AddWithValue("@u", userInput);
cmd.Parameters.AddWithValue("@p", passwordInput);
</pre>
      <button class="copy-btn" data-target="sql2">Copy</button>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>Want more? Pick another topic from the sidebar.</footer>

  <script>
    document.querySelectorAll('.copy-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.dataset.target;
        const code = document.getElementById(id).innerText.trim();
        navigator.clipboard.writeText(code).then(() => {
          btn.innerText = '✓ Copied';
          setTimeout(() => (btn.innerText = 'Copy'), 1200);
        });
      });
    });
  </script>
</body>
</html>
